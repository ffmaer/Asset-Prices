format compact
format long
clc


k=[1340
1350
1360
1370
1380
1390
1400
1410
1420
1430];

% 
% call_bid=[82.5
% 75.25
% 68
% 61.25
% 54.5
% 48.25
% 42.25
% 36.75
% 31.75
% 27];
% 
% call_ask=[85.75
% 78.25
% 71
% 64
% 57.25
% 50.75
% 44.75
% 39.25
% 33.75
% 29];

% mid=(call_ask+call_bid)/2;

mid =[
   84.1250
   76.7500
   69.5000
   62.6250
   55.8750
   49.5000
   43.5000
   38.0000
   32.7500
   28.0000];



vol=[0.188926879
0.184928518
0.180492278
0.176502414
0.171943234
0.167659408
0.163559456
0.160012642
0.156049238
0.152515986];

plot(k,vol);


% bond=1;
% tal=1/4;
% stock=1395.75;
% 
% N=@(d) normcdf(d,0,1);
% 
% 
% for(i=1:10)
% 
% strik = k(i);
% call = mid(i);
% 
% 
% d=@(sigma) (log(stock./(bond .* strik))+tal*sigma^2/2)/(tal^(1/2)*sigma);
% f =@(sigma) stock * N(d(sigma)) - bond .* strik .* N(d(sigma)-tal^(1/2)*sigma) - call;
% 
% 
% 
% 
% 
% x0=0.01;
% x1=0.4;
% 
% fx0=f(x0);
% fx1=f(x1);
% 
% 
% fx2=100000;
% 
% 
% while(abs(fx2) > 0.0001)
% 
%     x2=x1-fx1*((x1-x0)/(fx1-fx0));
%     fx2=f(x2);
% 
%     
%     x0=x1;
%     x1=x2;
%     
%     fx0=f(x0);
%     fx1=f(x1);
%     
%     
% 
% 
% end
%     
% x2
% 
% end